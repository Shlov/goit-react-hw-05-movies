{"version":3,"file":"static/js/804.0dea987e.chunk.js","mappings":"6PA+CA,UAzCqB,WAAO,IAAD,IAClBA,GAAMC,EAAAA,EAAAA,MAAND,GACP,GAA0BE,EAAAA,EAAAA,UAAS,CAAC,GAApC,eAAOC,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WAgBnD,IAdAC,EAAAA,EAAAA,YAAU,WAKR,IAAMC,EAAiB,mCAAG,qGAECC,EAAAA,EAAAA,IAAWb,GAFZ,8BAEiBc,KAFjB,OAElBC,EAFkB,OAGxBX,EAASW,GAHe,2CAAH,qDAKvBH,GAED,GAAC,CAACZ,IAEEG,EAEL,OACE,iCACE,SAAC,KAAD,CAAMa,GAAIT,EAAYU,QAAtB,0BACA,4BACE,gBAAKC,IAAKf,EAAMgB,YAAN,yCAAsDhB,EAAMgB,aAAgBC,EAAQC,IAAKlB,EAAMmB,kBACzG,wBAAKnB,EAAMmB,kBACX,uBAAInB,EAAMoB,aAEZ,SAAC,IAAD,CAAYP,GAAG,OAAf,UACE,mBAAQQ,KAAK,SAAb,qBAEF,SAAC,IAAD,CAAYR,GAAG,UAAf,UACE,mBAAQQ,KAAK,SAAb,wBAEF,SAAC,KAAD,MAGL,C,mMC3CKC,EAAM,mCAEL,SAASC,IAEd,OAAOC,EAAAA,EAAAA,IADK,kDACU,CACpBC,OAAQ,CACNC,QAASJ,IAGd,CAEM,SAASK,EAAWC,GAAc,IAAXC,EAAU,uDAAH,EAC7BC,EAAM,4CACZ,OAAON,EAAAA,EAAAA,IAAUM,EAAK,CACpBL,OAAQ,CACNC,QAASJ,EACTS,MAAOH,EACPI,SAAU,QACVH,KAAMA,EACNI,eAAe,IAGpB,CAEM,SAASvB,EAAWb,GACzB,IAAMiC,EAAG,6CAAyCjC,GAClD,OAAO2B,EAAAA,EAAAA,IAAUM,EAAK,CACpBL,OAAQ,CACNC,QAASJ,EACTU,SAAU,UAGf,CAEM,SAAeE,EAAtB,+CAAO,OAAP,oBAAO,WAA8BrC,GAA9B,gFACCiC,EADD,6CAC6CjC,EAD7C,qBAEc2B,EAAAA,EAAAA,IAAUM,EAAK,CAChCL,OAAQ,CACNC,QAASJ,EACTU,SAAU,WALT,cAECG,EAFD,yBAQEA,EAAKxB,MARP,kEAWA,SAAeyB,EAAtB,+CAAO,OAAP,oBAAO,WAAiCvC,GAAjC,gFACCiC,EADD,6CAC6CjC,EAD7C,qBAEiB2B,EAAAA,EAAAA,IAAUM,EAAK,CACnCL,OAAQ,CACNC,QAASJ,EACTU,SAAU,WALT,cAECK,EAFD,yBAQEA,EAAQ1B,MARV,kE","sources":["pages/MovieDetails/MovieDetails.js","services/moviesApi.js"],"sourcesContent":["import { StyledLink } from \"components/Header/StyledLink.styled\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Link, Outlet, useLocation, useParams } from \"react-router-dom\"\nimport { fetchMovie } from \"services/moviesApi\";\nimport defImg from '../../img/no-poster.png'\n\nconst MovieDetails = () => {\n  const {id} = useParams();\n  const [movie, setMovie] = useState({})\n  const location = useLocation()\n  const btnBackHref = useRef(location.state?.from ?? \"/movies\")\n  \n  useEffect(()=> {\n    // if (movie === {}) {\n    //   return\n    // }\n\n    const fetchMovieDetails = async () => {\n      // setMovie(await fetchMovie(id))\n      const mov = await (await fetchMovie(id)).data\n      setMovie(mov)\n    }\n    fetchMovieDetails()\n    \n  },[id])\n\n  if (!movie) return\n\n  return (\n    <>\n      <Link to={btnBackHref.current}>Back movies</Link>\n      <div>\n        <img src={movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : defImg} alt={movie.original_title} />\n        <h3>{movie.original_title}</h3>\n        <p>{movie.status}</p>\n      </div>\n      <StyledLink to='cast'>\n        <button type=\"button\">Cast</button>\n      </StyledLink>\n      <StyledLink to='reviews'>\n        <button type=\"button\">Reviews</button>\n      </StyledLink>\n      <Outlet />\n    </>\n  )\n}\n\nexport default MovieDetails","import axios from 'axios';\n\nconst KEY = 'bcad57bcc751e594ef248154d039e8ec';\n\nexport function fetchTrending() {\n  const URL = 'https://api.themoviedb.org/3/trending/movie/day';\n  return axios.get(URL, {\n    params: {\n      api_key: KEY,\n    }\n  });\n}\n\nexport function fetchQuery(q, page = 1) {\n  const URL = 'https://api.themoviedb.org/3/search/movie';\n  return axios.get(URL, {\n    params: {\n      api_key: KEY,\n      query: q,\n      language: 'en-US',\n      page: page,\n      include_adult: false,\n    }\n  });\n}\n\nexport function fetchMovie(id) {\n  const URL = `https://api.themoviedb.org/3/movie/${id}`;\n  return axios.get(URL, {\n    params: {\n      api_key: KEY,\n      language: 'en-US',\n    }\n  }); \n}\n\nexport async function fetchMovieCast(id) {\n  const URL = `https://api.themoviedb.org/3/movie/${id}/credits`;\n  const cast = await axios.get(URL, {\n    params: {\n      api_key: KEY,\n      language: 'en-US',\n    }\n  });\n  return cast.data \n}\n\nexport async function fetchMovieReviews(id) {\n  const URL = `https://api.themoviedb.org/3/movie/${id}/reviews`;\n  const reviews = await axios.get(URL, {\n    params: {\n      api_key: KEY,\n      language: 'en-US',\n    }\n  });\n  return reviews.data \n}\n\n"],"names":["id","useParams","useState","movie","setMovie","location","useLocation","btnBackHref","useRef","state","from","useEffect","fetchMovieDetails","fetchMovie","data","mov","to","current","src","poster_path","defImg","alt","original_title","status","type","KEY","fetchTrending","axios","params","api_key","fetchQuery","q","page","URL","query","language","include_adult","fetchMovieCast","cast","fetchMovieReviews","reviews"],"sourceRoot":""}