{"version":3,"file":"static/js/509.3315da9e.chunk.js","mappings":"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","sources":["components/Loader/Loader.js","components/MovieCard/MovieCard.js","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.js","components/Searchbar/Searchbar.styled.js","components/Searchbar/Searchbar.js","pages/Movies/Movies.js","services/moviesApi.js"],"sourcesContent":["import {Rings} from 'react-loader-spinner';\n\n\nexport const Loader = () => {\n  return (\n    <Rings\n      height=\"180\"\n      width=\"180\"\n      color=\"#4fa94d\"\n      radius=\"6\"\n      wrapperStyle={{}}\n      wrapperClass=\"\"\n      visible={true}\n      ariaLabel=\"rings-loading\"\n    />\n  )\n}","// import { StyledLink } from \"components/Header/StyledLink.styled\"\nimport { NavLink, useLocation } from \"react-router-dom\"\nimport defImg from '../../img/no-poster.png'\n\n\n\nexport const MovieCard = ({movie}) => {\n\n  const location = useLocation();\n  return (\n    <li>\n      <NavLink to={`/movies/${movie.id}`} state={{from: location}}>\n      <img src={movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : defImg} alt={movie.original_title} width='240' height='320' />\n      <p>{movie.original_title}</p>\n      <p>{movie.release_date}</p>\n      </NavLink>\n    </li>\n  )\n}","import styled from \"styled-components\";\n\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  list-style-type: none;\n  padding: 0;\n  font-size: 10px;\n`","import { MovieCard } from \"components/MovieCard/MovieCard\"\nimport { List } from \"./MoviesList.styled\"\n\n\nexport const MoviesList = ({movies}) => {\n\n  return (\n    <List>\n      {movies.map(movie => <MovieCard key={movie.id} movie = {movie}></MovieCard>)}\n    </List>\n  )\n}","import styled from \"styled-components\";\n\nexport const Header = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`\n\n\nexport const Form = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`\n\nexport const Btn = styled.button`\n  /* display: inline-block; */\n  width: 48px;\n  height: 48px;\n  border: 0;\n  /* background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center; */\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  :hover {\n    opacity: 1;\n  }\n  >svg{\n    display: block;\n    width: 40px;\n    height: 40px;\n    transform: scaleX(-1)\n  }\n`\n\n// export const Span = styled.span`\n//   /* position: absolute; */\n//   width: 100px;\n//   height: 100px;\n//   padding: 0;\n//   overflow: hidden;\n//   clip: rect(0, 0, 0, 0);\n//   white-space: nowrap;\n//   clip-path: inset(50%);\n//   border: 0;\n// `\n\nexport const Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  /* font: inherit; */\n  font-size: 20px;\n  border: none;\n  outline: none;\n  /* padding-left: 4px; */\n  /* padding-right: 4px; */\n  padding: 12px 4px;\n  background-color: aliceblue;\n\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`","import { Btn, Form, Input } from \"./Searchbar.styled\";\nimport {GiBugNet} from 'react-icons/gi';\n\nimport PropTypes from 'prop-types';\n\n\nexport const Searchbar = ({onSubmit, onChange}) => {\n\n  // const handleQuetyChange = (evnt) => {\n  //   onChange({query: evnt.currentTarget.value})\n  // }\n\n  const handleSubmit = (evnt) => {\n    evnt.preventDefault()\n    // console.dir(evnt.target.input)\n    // if (evnt.currentTarget.value === '') {\n    //   return toast.error('Enter a search query')\n    // }\n    onSubmit()\n  }\n\n    return (\n        <Form onSubmit={handleSubmit}>\n          <Input\n            onChange={(e) => onChange(e.currentTarget.value)}\n            type=\"text\"\n            // value={query}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search movie\"\n          />\n          <Btn type=\"submit\">\n              <GiBugNet/>\n          </Btn>\n        </Form>\n    )\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n}\n\n","import { Loader } from \"components/Loader/Loader\";\nimport { MoviesList } from \"components/MoviesList/MoviesList\";\nimport { Searchbar } from \"components/Searchbar/Searchbar\"\nimport { useState, useEffect, useRef } from \"react\"\nimport { toast } from \"react-hot-toast\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { fetchQuery } from \"services/moviesApi\";\n\nexport default function Movies() {\n  \n  const [download, setDownload] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchMovie, setSearchMovie] = useSearchParams();\n\n  const nextSearchParams = searchMovie.get('query') ?? '';\n  const startSearchHref = useRef(nextSearchParams)\n  console.log('nextSearchParams', `'${nextSearchParams.trim()}'`)\n\n  useEffect(() => {\n    setSearchQuery(startSearchHref.current)\n  },[])\n  \n  useEffect(() => {\n    if (searchQuery === '') {\n      return\n    } \n\n    const fatchMovies = async () => {\n      setDownload(true);\n      try {\n        const movies = await (await fetchQuery(searchQuery)).data.results\n        setMovies(movies);\n      } catch (error) {\n        console.log(error)\n        toast.error('Error')\n      } finally {\n        setDownload(false);\n      }\n    }\n    fatchMovies()\n  }, [searchQuery])\n\n  const handleFormSubmit = () => {\n    if (!(nextSearchParams.trim()) || nextSearchParams === '') {\n      return toast.error('Enter a search query')\n    }\n    setSearchQuery(nextSearchParams)\n  }\n\n  const updateQueryString= (query) => {\n    const nextParams = query !== '' ? {query} : {};\n    setSearchMovie(nextParams)\n  }\n\n\n  return (\n    <>\n      <h2>Search by name</h2>\n      <Searchbar onSubmit={handleFormSubmit} onChange = {updateQueryString}/>\n      {download && <Loader/>}\n      {!download && Boolean(movies.length) && <MoviesList movies = {movies}/>}\n    </>\n  )\n}\n\n","import axios from 'axios';\n\nconst KEY = 'bcad57bcc751e594ef248154d039e8ec';\n\nexport function fetchTrending() {\n  const URL = 'https://api.themoviedb.org/3/trending/movie/day';\n  return axios.get(URL, {\n    params: {\n      api_key: KEY,\n    }\n  });\n}\n\nexport function fetchQuery(q, page = 1) {\n  const URL = 'https://api.themoviedb.org/3/search/movie';\n  return axios.get(URL, {\n    params: {\n      api_key: KEY,\n      query: q,\n      language: 'en-US',\n      page: page,\n      include_adult: false,\n    }\n  });\n}\n\nexport function fetchMovie(id) {\n  const URL = `https://api.themoviedb.org/3/movie/${id}`;\n  return axios.get(URL, {\n    params: {\n      api_key: KEY,\n      language: 'en-US',\n    }\n  }); \n}\n\nexport async function fetchMovieCast(id) {\n  const URL = `https://api.themoviedb.org/3/movie/${id}/credits`;\n  const cast = await axios.get(URL, {\n    params: {\n      api_key: KEY,\n      language: 'en-US',\n    }\n  });\n  return cast.data \n}\n\nexport async function fetchMovieReviews(id) {\n  const URL = `https://api.themoviedb.org/3/movie/${id}/reviews`;\n  const reviews = await axios.get(URL, {\n    params: {\n      api_key: KEY,\n      language: 'en-US',\n    }\n  });\n  return reviews.data \n}\n\n"],"names":["Loader","height","width","color","radius","wrapperStyle","wrapperClass","visible","ariaLabel","MovieCard","movie","location","useLocation","to","id","state","from","src","poster_path","defImg","alt","original_title","release_date","List","styled","MoviesList","movies","map","Form","Btn","Input","Searchbar","onSubmit","onChange","evnt","preventDefault","e","currentTarget","value","type","placeholder","Movies","useState","download","setDownload","setMovies","searchQuery","setSearchQuery","useSearchParams","searchMovie","setSearchMovie","nextSearchParams","get","startSearchHref","useRef","console","log","trim","useEffect","current","fatchMovies","fetchQuery","data","results","toast","query","Boolean","length","KEY","fetchTrending","axios","params","api_key","q","page","URL","language","include_adult","fetchMovie","fetchMovieCast","cast","fetchMovieReviews","reviews"],"sourceRoot":""}